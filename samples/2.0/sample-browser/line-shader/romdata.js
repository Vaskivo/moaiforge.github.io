romJson={"files": [{"start": 0, "end": 6028, "filename": "/main.lua"}, {"start": 6028, "end": 6429, "filename": "/shader.fsh"}, {"start": 6429, "end": 10192, "filename": "/shader.vsh"}], "directories": {}, "package_uuid": "fd2908c6aae0b0d4996a13cf9947987c"};
romData="LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLS0gQ29weXJpZ2h0IChjKSAyMDEwLTIwMTcgWmlwbGluZSBHYW1lcywgSW5jLiANCi0tIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIA0KLS0gaHR0cDovL2dldG1vYWkuY29tDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCk1PQUlTaW0ub3BlbldpbmRvdyAoICJ0ZXN0IiwgNTIwLCA2ODAgKQ0KDQp2aWV3cG9ydCA9IE1PQUlWaWV3cG9ydC5uZXcgKCkNCnZpZXdwb3J0OnNldFNpemUgKCA1MjAsIDY4MCApDQp2aWV3cG9ydDpzZXRTY2FsZSAoIDUyMCwgNjgwICkNCg0KbGF5ZXIgPSBNT0FJUGFydGl0aW9uVmlld0xheWVyLm5ldyAoKQ0KbGF5ZXI6c2V0Vmlld3BvcnQgKCB2aWV3cG9ydCApDQpsYXllcjpwdXNoUmVuZGVyUGFzcyAoKQ0KDQpjYW1lcmEgPSBNT0FJQ2FtZXJhLm5ldyAoKQ0KY2FtZXJhOnNldEZpZWxkT2ZWaWV3ICggNjUuMCApDQpjYW1lcmE6c2V0TG9jICggMCwgMCwgY2FtZXJhOmdldEZvY2FsTGVuZ3RoICggMzIwICkpDQpsYXllcjpzZXRDYW1lcmEgKCBjYW1lcmEgKQ0KDQpwcm9ncmFtID0gTU9BSVNoYWRlclByb2dyYW0ubmV3ICgpDQoNCnByb2dyYW06c2V0VmVydGV4QXR0cmlidXRlICggMSwgJ3Bvc2l0aW9uJyApDQpwcm9ncmFtOnNldFZlcnRleEF0dHJpYnV0ZSAoIDIsICdwcmV2UG9zaXRpb24nICkNCnByb2dyYW06c2V0VmVydGV4QXR0cmlidXRlICggMywgJ25leHRQb3NpdGlvbicgKQ0KcHJvZ3JhbTpzZXRWZXJ0ZXhBdHRyaWJ1dGUgKCA0LCAndGltZScgKQ0KcHJvZ3JhbTpzZXRWZXJ0ZXhBdHRyaWJ1dGUgKCA1LCAnc2lkZScgKQ0KcHJvZ3JhbTpzZXRWZXJ0ZXhBdHRyaWJ1dGUgKCA2LCAnZWRnZScgKQ0KDQpwcm9ncmFtOnJlc2VydmVVbmlmb3JtcyAoIDYgKQ0KcHJvZ3JhbTpkZWNsYXJlVW5pZm9ybSAoIDEsICd0cmFuc2Zvcm0nLAlNT0FJU2hhZGVyUHJvZ3JhbS5VTklGT1JNX01BVFJJWF9GNCApDQpwcm9ncmFtOmRlY2xhcmVVbmlmb3JtICggMiwgJ2NvbG9yJywJCU1PQUlTaGFkZXJQcm9ncmFtLlVOSUZPUk1fVkVDVE9SX0Y0ICkNCnByb2dyYW06ZGVjbGFyZVVuaWZvcm0gKCAzLCAndmlld1dpZHRoJywJTU9BSVNoYWRlclByb2dyYW0uVU5JRk9STV9GTE9BVCApDQpwcm9ncmFtOmRlY2xhcmVVbmlmb3JtICggNCwgJ3ZpZXdIZWlnaHQnLAlNT0FJU2hhZGVyUHJvZ3JhbS5VTklGT1JNX0ZMT0FUICkNCnByb2dyYW06ZGVjbGFyZVVuaWZvcm0gKCA1LCAnZGFzaCcsCQkJTU9BSVNoYWRlclByb2dyYW0uVU5JRk9STV9GTE9BVCApDQpwcm9ncmFtOmRlY2xhcmVVbmlmb3JtICggNiwgJ3JhZGl1cycsCQlNT0FJU2hhZGVyUHJvZ3JhbS5VTklGT1JNX0ZMT0FUICkNCg0KcHJvZ3JhbTpyZXNlcnZlR2xvYmFscyAoIDQgKQ0KcHJvZ3JhbTpzZXRHbG9iYWwgKCAxLCAxLCBNT0FJU2hhZGVyUHJvZ3JhbS5HTE9CQUxfV09STERfVklFV19QUk9KICkNCnByb2dyYW06c2V0R2xvYmFsICggMiwgMiwgTU9BSVNoYWRlclByb2dyYW0uR0xPQkFMX1BFTl9DT0xPUiApDQpwcm9ncmFtOnNldEdsb2JhbCAoIDMsIDMsIE1PQUlTaGFkZXJQcm9ncmFtLkdMT0JBTF9WSUVXX1dJRFRIICkNCnByb2dyYW06c2V0R2xvYmFsICggNCwgNCwgTU9BSVNoYWRlclByb2dyYW0uR0xPQkFMX1ZJRVdfSEVJR0hUICkNCg0KcHJvZ3JhbTpsb2FkICggTU9BSUZpbGVTeXN0ZW0ubG9hZEZpbGUgKCAnc2hhZGVyLnZzaCcgKSwgTU9BSUZpbGVTeXN0ZW0ubG9hZEZpbGUgKCAnc2hhZGVyLmZzaCcgKSkNCg0Kc2hhZGVyID0gTU9BSVNoYWRlci5uZXcgKCkNCnNoYWRlcjpzZXRQcm9ncmFtICggcHJvZ3JhbSApDQoNCnNoYWRlcjpzZXRBdHRyICggNSwgMC4wICkNCnNoYWRlcjpzZXRBdHRyICggNiwgNS4wICkNCg0KbG9jYWwgdmVydGV4Rm9ybWF0ID0gTU9BSVZlcnRleEZvcm1hdC5uZXcgKCkNCnZlcnRleEZvcm1hdDpkZWNsYXJlQ29vcmQgKCAxLCBNT0FJVmVydGV4Rm9ybWF0LkdMX0ZMT0FULCAzICkgLS0gY3VycmVudA0KdmVydGV4Rm9ybWF0OmRlY2xhcmVBdHRyaWJ1dGUgKCAyLCBNT0FJVmVydGV4Rm9ybWF0LkdMX0ZMT0FULCAzICkgLS0gcHJldmlvdXMNCnZlcnRleEZvcm1hdDpkZWNsYXJlQXR0cmlidXRlICggMywgTU9BSVZlcnRleEZvcm1hdC5HTF9GTE9BVCwgMyApIC0tIG5leHQNCnZlcnRleEZvcm1hdDpkZWNsYXJlQXR0cmlidXRlICggNCwgTU9BSVZlcnRleEZvcm1hdC5HTF9GTE9BVCwgMSApIC0tIHRpbWUNCnZlcnRleEZvcm1hdDpkZWNsYXJlQXR0cmlidXRlICggNSwgTU9BSVZlcnRleEZvcm1hdC5HTF9GTE9BVCwgMSApIC0tIHNpZGUNCnZlcnRleEZvcm1hdDpkZWNsYXJlQXR0cmlidXRlICggNiwgTU9BSVZlcnRleEZvcm1hdC5HTF9GTE9BVCwgMSApIC0tIG9yZGVyDQoNCmxvY2FsIHB1c2hWZXJ0DQpsb2NhbCB3cml0ZUxpbmUNCmxvY2FsIHdyaXRlVmVydGV4DQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCnB1c2hWZXJ0ID0gZnVuY3Rpb24gKCB2ZXJ0cywgeCwgeSwgeiApDQoNCgl0YWJsZS5pbnNlcnQgKCB2ZXJ0cywgeyB4ID0geCwgeSA9IHksIHogPSB6IH0pDQplbmQNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0Kd3JpdGVMaW5lID0gZnVuY3Rpb24gKCBzdHJlYW0sIHZlcnRzLCBuRmFjZXRzICkNCg0KCWZvciBpID0gMSwgI3ZlcnRzIC0gMSBkbw0KDQogICAgICAgIGxvY2FsIGEgPSBpDQogICAgICAgIGxvY2FsIGIgPSBpICsgMQ0KDQogICAgICAgIHdyaXRlVmVydGV4ICggc3RyZWFtLCB2ZXJ0cywgYSwJMCwgMCwgMCApDQogICAgICAgIHdyaXRlVmVydGV4ICggc3RyZWFtLCB2ZXJ0cywgYiwgMSwgMSwgMCApDQogICAgICAgIHdyaXRlVmVydGV4ICggc3RyZWFtLCB2ZXJ0cywgYSwgMSwgMCwgMSApDQoNCiAgICAgICAgd3JpdGVWZXJ0ZXggKCBzdHJlYW0sIHZlcnRzLCBhLCAwLCAwLCAwICkNCiAgICAgICAgd3JpdGVWZXJ0ZXggKCBzdHJlYW0sIHZlcnRzLCBiLCAwLCAxLCAxICkNCiAgICAgICAgd3JpdGVWZXJ0ZXggKCBzdHJlYW0sIHZlcnRzLCBiLCAxLCAxLCAwICkNCg0KICAgICAgICBpZiBpIDwgI3ZlcnRzIC0gMSB0aGVuIA0KDQogICAgICAgICAgICBmb3IgaiA9IDEsIG5GYWNldHMgZG8NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGxvY2FsIHJ0MCA9ICggaiAtIDEgKSAvIG5GYWNldHMNCiAgICAgICAgICAgICAgICBsb2NhbCBydDEgPSBqIC8gbkZhY2V0cw0KDQogICAgICAgICAgICAgICAgbG9jYWwgbHQwID0gMS4wIC0gcnQwDQogICAgICAgICAgICAgICAgbG9jYWwgbHQxID0gMS4wIC0gcnQxDQoNCiAgICAgICAgICAgICAgICB3cml0ZVZlcnRleCAoIHN0cmVhbSwgdmVydHMsIGIsIDAsIDEsIGx0MCApDQogICAgICAgICAgICAgICAgd3JpdGVWZXJ0ZXggKCBzdHJlYW0sIHZlcnRzLCBiLCAxLCAxLCBydDEgKQ0KICAgICAgICAgICAgICAgIHdyaXRlVmVydGV4ICggc3RyZWFtLCB2ZXJ0cywgYiwgMSwgMSwgcnQwICkNCg0KICAgICAgICAgICAgICAgIHdyaXRlVmVydGV4ICggc3RyZWFtLCB2ZXJ0cywgYiwgMCwgMSwgbHQwICkNCiAgICAgICAgICAgICAgICB3cml0ZVZlcnRleCAoIHN0cmVhbSwgdmVydHMsIGIsIDAsIDEsIGx0MSApDQogICAgICAgICAgICAgICAgd3JpdGVWZXJ0ZXggKCBzdHJlYW0sIHZlcnRzLCBiLCAxLCAxLCBydDEgKQ0KICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgIGVuZA0KZW5kDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCndyaXRlVmVydGV4ID0gZnVuY3Rpb24gKCBzdHJlYW0sIHZlcnRzLCBpbmRleCwgc2lkZSwgb3JkZXIsIHRpbWUgKQ0KDQoJbG9jYWwgdjAgPSB2ZXJ0cyBbIGluZGV4IF0NCg0KCXN0cmVhbTp3cml0ZUZsb2F0ICggdjAueCwgdjAueSwgMC4wICkNCg0KCWxvY2FsIHANCglsb2NhbCBuDQoNCglpZiBzaWRlIDw9IDAuMCB0aGVuDQoNCgkJbiA9IG1hdGgubWF4ICggaW5kZXggLSAxLCAxICkNCgkJcCA9IG1hdGgubWluICggaW5kZXggKyAxLCAjdmVydHMgKQ0KCWVsc2UNCgkJcCA9IG1hdGgubWF4ICggaW5kZXggLSAxLCAxICkNCgkJbiA9IG1hdGgubWluICggaW5kZXggKyAxLCAjdmVydHMgKQ0KCWVuZA0KDQoJcCA9IHZlcnRzIFsgcCBdDQoJbiA9IHZlcnRzIFsgbiBdDQoNCglzdHJlYW06d3JpdGVGbG9hdCAoIHAueCwgcC55LCAwLjAgKQ0KCXN0cmVhbTp3cml0ZUZsb2F0ICggbi54LCBuLnksIDAuMCApDQoJc3RyZWFtOndyaXRlRmxvYXQgKCB0aW1lICkNCg0KCWlmIHNpZGUgPD0gMC4wIHRoZW4NCg0KCQlzdHJlYW06d3JpdGVGbG9hdCAoIC0xLjAgKQ0KCQlzdHJlYW06d3JpdGVGbG9hdCAoIG9yZGVyICkNCgllbHNlDQoJCXN0cmVhbTp3cml0ZUZsb2F0ICggMS4wICkNCgkJc3RyZWFtOndyaXRlRmxvYXQgKCBvcmRlciA9PSAwLjAgYW5kIDEuMCBvciAwLjAgKQ0KCWVuZCANCmVuZA0KDQpsb2NhbCB2ZXJ0cyA9IHt9DQoNCi0tcHVzaFZlcnQgKCB2ZXJ0cywgLTEwMCwgMTAwLCAwICkNCi0tcHVzaFZlcnQgKCB2ZXJ0cywgMTAwLCAxMDAsIDAgKQ0KLS1wdXNoVmVydCAoIHZlcnRzLCAxMDAsIC0xMDAsIDAgKQ0KLS1wdXNoVmVydCAoIHZlcnRzLCAtMTAwLCAtMTAwLCAwICkNCi0tcHVzaFZlcnQgKCB2ZXJ0cywgLTEwMCwgMTAwLCAwICkNCg0KcHVzaFZlcnQgKCB2ZXJ0cywgMCwgMTAwLCAwICkNCnB1c2hWZXJ0ICggdmVydHMsIDAsIDAsIDAgKQ0KcHVzaFZlcnQgKCB2ZXJ0cywgMTAwLCAwLCAwICkNCnB1c2hWZXJ0ICggdmVydHMsIDEwMCwgLTEwMCwgMCApDQpwdXNoVmVydCAoIHZlcnRzLCAtMTAwLCAtMTAwLCAwICkNCnB1c2hWZXJ0ICggdmVydHMsIC0xMDAsIDEwMCwgMCApDQpwdXNoVmVydCAoIHZlcnRzLCAwLCAwLCAwICkNCg0KLS1wdXNoVmVydCAoIHZlcnRzLCAxMDAsIDAsIDAgKQ0KLS1wdXNoVmVydCAoIHZlcnRzLCAtMTE0LjMxNSwgMCwgMCApDQotLXB1c2hWZXJ0ICggdmVydHMsIC0xMDAuMCwgMCwgMCApDQotLXB1c2hWZXJ0ICggdmVydHMsIC01MCwgMCwgMCApDQoNCi0tcHVzaFZlcnQgKCB2ZXJ0cywgLTEwMCwgMiwgMCApDQotLXB1c2hWZXJ0ICggdmVydHMsIDEwMCwgMiwgMCApDQotLXB1c2hWZXJ0ICggdmVydHMsIDEwMCwgLTEsIDAgKQ0KLS1wdXNoVmVydCAoIHZlcnRzLCAtMTAwLCAtMiwgMCApDQoNCmxvY2FsIHZ0eFN0cmVhbSA9IE1PQUlNZW1TdHJlYW0ubmV3ICgpDQp3cml0ZUxpbmUgKCB2dHhTdHJlYW0sIHZlcnRzLCA0ICkNCg0KdnR4U3RyZWFtOnNlZWsgKCAwICkNCg0KbG9jYWwgdmJvID0gTU9BSVZlcnRleEJ1ZmZlci5uZXcgKCkNCnZibzpjb3B5RnJvbVN0cmVhbSAoIHZ0eFN0cmVhbSApDQoNCmxvY2FsIG1lc2ggPSBNT0FJTWVzaC5uZXcgKCkNCg0KbWVzaDpzZXRWZXJ0ZXhCdWZmZXIgKCB2Ym8sIHZlcnRleEZvcm1hdCApDQoNCm1lc2g6c2V0VG90YWxFbGVtZW50cyAoIHZibzpjb3VudEVsZW1lbnRzICggdmVydGV4Rm9ybWF0ICkpDQptZXNoOnNldEJvdW5kcyAoIHZibzpjb21wdXRlQm91bmRzICggdmVydGV4Rm9ybWF0ICkpDQoNCm1lc2g6c2V0UHJpbVR5cGUgKCBNT0FJTWVzaC5HTF9UUklBTkdMRVMgKQ0KbWVzaDpzZXRTaGFkZXIgKCBzaGFkZXIgKQ0KDQpwcm9wID0gTU9BSVByb3AubmV3ICgpDQpwcm9wOnNldERlY2sgKCBtZXNoICkNCnByb3A6c2V0RGVwdGhNYXNrICggZmFsc2UgKQ0KcHJvcDpzZXREZXB0aFRlc3QgKCBNT0FJR3JhcGhpY3NQcm9wLkRFUFRIX1RFU1RfRElTQUJMRSApDQotLXByb3A6c2V0Um90ICggMCwgMjcwLCAwICkNCi0tcHJvcDptb3ZlUm90ICggMCwgMzYwLCAwLCAxMiApDQpwcm9wOm1vdmVSb3QgKCAzNjAsIDM2MCwgMCwgMjQgKQ0KLS1wcm9wOnNldEN1bGxNb2RlICggTU9BSUdyYXBoaWNzUHJvcC5DVUxMX0JBQ0sgKQ0KbGF5ZXI6aW5zZXJ0UHJvcCAoIHByb3AgKS8vIENvcHlyaWdodCAoYykgMjAxMC0yMDE3IFppcGxpbmUgR2FtZXMsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4NCi8vIGh0dHA6Ly9nZXRtb2FpLmNvbQ0KDQp2YXJ5aW5nIExPV1AgdmVjNCBjb2xvclZhcnlpbmc7DQp2YXJ5aW5nIE1FRFAgdmVjMiB1dlZhcnlpbmc7DQoNCnVuaWZvcm0gTUVEUCBmbG9hdCBkYXNoOw0KDQp2b2lkIG1haW4oKSB7IA0KDQogICAgaWYgKCggZGFzaCA8PSAwLjAgKSB8fCAoKCBtb2QgKCggdXZWYXJ5aW5nLnkgLSAoIGRhc2ggKiAwLjUgKSkgLyAoIGRhc2ggKiAyLjAgKSwgMS4wICkgLSAwLjUgKSA8IDAuMCApKSB7DQogICAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yVmFyeWluZzsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAgIGRpc2NhcmQ7DQogICAgfQ0KfQ0KLy8gQ29weXJpZ2h0IChjKSAyMDEwLTIwMTcgWmlwbGluZSBHYW1lcywgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLg0KLy8gaHR0cDovL2dldG1vYWkuY29tDQoNCmF0dHJpYnV0ZSB2ZWM0IHBvc2l0aW9uOw0KYXR0cmlidXRlIHZlYzQgcHJldlBvc2l0aW9uOw0KYXR0cmlidXRlIHZlYzQgbmV4dFBvc2l0aW9uOw0KYXR0cmlidXRlIGZsb2F0IHRpbWU7DQphdHRyaWJ1dGUgZmxvYXQgc2lkZTsgLy8gLTEgPT0gbGVmdCwgMSA9PSByaWdodA0KYXR0cmlidXRlIGZsb2F0IGVkZ2U7IC8vIDAgPT0gcHJldiwgMSA9PSBuZXh0DQoNCnVuaWZvcm0gbWF0NCAgICB0cmFuc2Zvcm07DQp1bmlmb3JtIHZlYzQgICAgY29sb3I7DQp1bmlmb3JtIGZsb2F0ICAgdmlld1dpZHRoOw0KdW5pZm9ybSBmbG9hdCAgIHZpZXdIZWlnaHQ7DQp1bmlmb3JtIGZsb2F0ICAgcmFkaXVzOw0KDQp2YXJ5aW5nIExPV1AgdmVjNCBjb2xvclZhcnlpbmc7DQp2YXJ5aW5nIE1FRFAgdmVjMiB1dlZhcnlpbmc7DQoNCnZlYzQgY2xpcFRvV2luZG93U3BhY2UgKCB2ZWM0IGNsaXBQb3MgKSB7DQogICAgDQogICAgY2xpcFBvcy54eXogLz0gY2xpcFBvcy53Ow0KICAgIGNsaXBQb3MueCAqPSB2aWV3V2lkdGggLyAyLjA7DQogICAgY2xpcFBvcy55ICo9IHZpZXdIZWlnaHQgLyAyLjA7DQogICAgcmV0dXJuIGNsaXBQb3M7DQp9DQoNCnZlYzQgd2luZG93VG9DbGlwU3BhY2UgKCB2ZWM0IHdpbmRvd1BvcyApIHsNCiAgICANCiAgICB3aW5kb3dQb3MueCAvPSB2aWV3V2lkdGggLyAyLjA7DQogICAgd2luZG93UG9zLnkgLz0gdmlld0hlaWdodCAvIDIuMDsNCiAgICB3aW5kb3dQb3MudyA9IDEuMDsNCiAgICByZXR1cm4gd2luZG93UG9zOw0KfQ0KDQp2b2lkIG1haW4gKCkgew0KDQogICAgY29sb3JWYXJ5aW5nID0gY29sb3I7DQoNCiAgICB2ZWM0IGN1cnJQb3MgPSBjbGlwVG9XaW5kb3dTcGFjZSAoIHBvc2l0aW9uICogdHJhbnNmb3JtICk7DQogICAgdmVjNCBuZXh0UG9zID0gY2xpcFRvV2luZG93U3BhY2UgKCBuZXh0UG9zaXRpb24gKiB0cmFuc2Zvcm0gKTsNCiAgICB2ZWM0IHByZXZQb3MgPSBjbGlwVG9XaW5kb3dTcGFjZSAoIHByZXZQb3NpdGlvbiAqIHRyYW5zZm9ybSApOw0KDQogICAgdmVjMiBlZGdlMCA9IHZlYzIgKCBjdXJyUG9zLnh5IC0gcHJldlBvcy54eSApOw0KICAgIHZlYzIgZWRnZTEgPSB2ZWMyICggbmV4dFBvcy54eSAtIGN1cnJQb3MueHkgKTsNCg0KICAgIGZsb2F0IGxlbmd0aDAgPSBjdXJyUG9zID09IHByZXZQb3MgPyAwLjAgOiBsZW5ndGggKCBlZGdlMCApOw0KICAgIGZsb2F0IGxlbmd0aDEgPSBjdXJyUG9zID09IG5leHRQb3MgPyAwLjAgOiBsZW5ndGggKCBlZGdlMSApOw0KDQogICAgaWYgKCBsZW5ndGgwID09IDAuMCAmJiBsZW5ndGgxID09IDAuMCApIHsNCg0KICAgICAgICBnbF9Qb3NpdGlvbiA9IHdpbmRvd1RvQ2xpcFNwYWNlICggY3VyclBvcyApOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGVsc2UgaWYgKCBsZW5ndGgwID09IDAuMCApIHsNCg0KICAgICAgICBlZGdlMSA9IGVkZ2UxIC8gbGVuZ3RoMTsNCiAgICAgICAgdmVjNCBqb2ludE5vcm0gPSB2ZWM0ICggLWVkZ2UxLnksIGVkZ2UxLngsIDAuMCwgMC4wICk7DQogICAgICAgIGdsX1Bvc2l0aW9uID0gd2luZG93VG9DbGlwU3BhY2UgKCBjdXJyUG9zICsgKCBqb2ludE5vcm0gKiByYWRpdXMgKSk7DQoNCiAgICAgICAgdXZWYXJ5aW5nID0gdmVjMiAoIDAuMCwgZG90ICggY3VyclBvcy54eSwgZWRnZTEgKSAqIHNpZGUgKTsNCiAgICB9DQogICAgZWxzZSBpZiAoIGxlbmd0aDEgPT0gMC4wICkgew0KDQogICAgICAgIGVkZ2UwID0gZWRnZTAgLyBsZW5ndGgwOw0KICAgICAgICB2ZWM0IGpvaW50Tm9ybSA9IHZlYzQgKCAtZWRnZTAueSwgZWRnZTAueCwgMC4wLCAwLjAgKTsNCiAgICAgICAgZ2xfUG9zaXRpb24gPSB3aW5kb3dUb0NsaXBTcGFjZSAoIGN1cnJQb3MgKyAoIGpvaW50Tm9ybSAqIHJhZGl1cyApKTsNCg0KICAgICAgICB1dlZhcnlpbmcgPSB2ZWMyICggMC4wLCBkb3QgKCBjdXJyUG9zLnh5LCBlZGdlMCApICogc2lkZSApOw0KICAgIH0NCiAgICBlbHNlIHsNCg0KICAgICAgICBlZGdlMCA9IGVkZ2UwIC8gbGVuZ3RoMDsNCiAgICAgICAgZWRnZTEgPSBlZGdlMSAvIGxlbmd0aDE7DQoNCiAgICAgICAgdXZWYXJ5aW5nID0gdmVjMiAoIDAuMCwgZG90ICggY3VyclBvcy54eSwgZWRnZSA9PSAwLjAgPyBlZGdlMCA6IGVkZ2UxICkgKiBzaWRlICk7DQoNCiAgICAgICAgdmVjMiBlZGdlTm9ybTAgPSB2ZWMyICggLWVkZ2UwLnksIGVkZ2UwLnggKTsNCiAgICAgICAgdmVjMiBlZGdlTm9ybTEgPSB2ZWMyICggLWVkZ2UxLnksIGVkZ2UxLnggKTsNCg0KICAgICAgICBlZGdlTm9ybTAgPSBub3JtYWxpemUgKCBlZGdlTm9ybTAgKTsNCiAgICAgICAgZWRnZU5vcm0xID0gbm9ybWFsaXplICggZWRnZU5vcm0xICk7DQoNCiAgICAgICAgLy8gZWFybHkgb3V0IGlmIGxpbmUgZG91YmxlcyBiYWNrIG9uIGl0c2VsZiAoMTgwIGRlZ3JlZXMpDQogICAgICAgIGlmICggZG90ICggZWRnZU5vcm0wLCBlZGdlTm9ybTEgKSA8PSAtMC45OTk5OSApIHsNCg0KICAgICAgICAgICAgdmVjMiB2ID0gdGltZSA8IDAuNSA/IGVkZ2VOb3JtMCA6IGVkZ2VOb3JtMTsNCiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gd2luZG93VG9DbGlwU3BhY2UgKCBjdXJyUG9zICsgdmVjNCAoIHYgKiByYWRpdXMsIDAuMCwgMC4wICkpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgdmVjNCBqb2ludE5vcm0gPSB2ZWM0ICggbm9ybWFsaXplICggZWRnZU5vcm0wICsgZWRnZU5vcm0xICksIDAuMCwgMC4wICkgOw0KICAgICAgICANCiAgICAgICAgZmxvYXQgbWl0ZXIgPSByYWRpdXMgLyBkb3QgKCB2ZWM0ICggZWRnZU5vcm0wLCAwLjAsIDAuMCApLCBqb2ludE5vcm0gKTsNCg0KICAgICAgICBpZiAoKCBtaXRlciAvIHJhZGl1cyApID4gMS4wICkgew0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoIGRvdCAoIGpvaW50Tm9ybS54eSwgZWRnZTEgKSA8IDAuMCApIHsNCg0KICAgICAgICAgICAgICAgIGZsb2F0IGFuZ2xlID0gLWFjb3MgKCBkb3QgKCBlZGdlTm9ybTAsIGVkZ2VOb3JtMSApKSAqIHRpbWU7DQoNCiAgICAgICAgICAgICAgICB2ZWMyIG4gPSBlZGdlTm9ybTA7DQoNCiAgICAgICAgICAgICAgICBmbG9hdCBjYSA9IGNvcyAoIGFuZ2xlICk7DQogICAgICAgICAgICAgICAgZmxvYXQgc2EgPSBzaW4gKCBhbmdsZSApOw0KDQogICAgICAgICAgICAgICAgdmVjMiB2ID0gdmVjMiAoKCBuLnggKiBjYSApIC0gKCBuLnkgKiBzYSApLCAoIG4ueSAqIGNhICkgKyAoIG4ueCAqIHNhICkpOw0KDQogICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB3aW5kb3dUb0NsaXBTcGFjZSAoIGN1cnJQb3MgKyB2ZWM0ICggdiAqIHJhZGl1cywgMC4wLCAwLjAgKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCg0KICAgICAgICAgICAgICAgIHZlYzIgdiA9IHRpbWUgPCAwLjUgPyBlZGdlTm9ybTAgOiBlZGdlTm9ybTE7DQogICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB3aW5kb3dUb0NsaXBTcGFjZSAoIGN1cnJQb3MgKyB2ZWM0ICggdiAqIHJhZGl1cywgMC4wLCAwLjAgKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQoNCiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gd2luZG93VG9DbGlwU3BhY2UgKCBjdXJyUG9zICsgKCBqb2ludE5vcm0gKiBtaXRlciApKTsNCiAgICAgICAgfQkJDQogICAgfQ0KfQ==";